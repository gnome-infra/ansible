ansible_connection: ssh
ansible_ssh_common_args: '-o ProxyCommand="ssh -W %h:%p -q root@bastion02.gnome.org -o StrictHostKeyChecking=no"'

gitlab_runner_token_infrastructure: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37653863353737396362336266383231393331396466386662346337613936643931363165396333
          6439663630646162623066363038633235303036356233380a363934643466643930363330386365
          61393961636533643638363065643930303931336630313035303031333831346563303834303262
          3531323733663861370a613165666539633165336437343132343264333964343136303133383537
          66633562653662373533313362646231616533396530643033636561613331343334626561643430
          38336565636338643531666538633137623465663038323264366235663062356533393462323965
          636138343665373238613166363139356561

gitlab_runner_token_gnome: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65616262666562653838623437366235306465363534323639386232613835363961393663323362
          3764336565303136356166376663316662393939323662350a383466656435366430333065393964
          63396139386264333261353837653137393236636530646562666631393735616661303236373537
          6263373462353263360a373336636262316339653536343233343465383165396235306439636533
          35333862663164613561626432643364633338323632306662356133336434373030333639646233
          37346632643039333039393335343739643538653438303932363666303234366338343066646165
          306137623031636431323162633863393337

gitlab_runner_config:
  concurrent: 4
  check_interval: 0
  shutdown_timeout: 0
  session_server:
    session_timeout: 1800
  runners:
    - name: egTi4Xzd
      url: https://gitlab.gnome.org
      id: 965
      token: "{{ gitlab_runner_token_infrastructure }}"
      executor: docker
      environment:
        - "FF_USE_GIT_NATIVE_CLONE=true"
      docker:
        helper_image: "registry.gitlab.com/gitlab-org/gitlab-runner/gitlab-runner-helper:alpine-edge-arm64-v18.8.0"
        tls_verify: false
        image: quay.io/fedora/fedora:latest
        privileged: false
        disable_entrypoint_overwrite: false
        oom_kill_disable: false
        disable_cache: true
        shm_size: 0
    - name: zvKw-Pk9
      url: https://gitlab.gnome.org
      id: 966
      token: "{{ gitlab_runner_token_gnome }}"
      executor: docker
      environment:
        - "FF_USE_GIT_NATIVE_CLONE=true"
      cache:
        MaxUploadedArchiveSize: 0
        s3:
          ServerAddress: "{{ gitlab_runner_cache_server_address }}"
          AccessKey: "{{ gitlab_runner_cache_access_key }}"
          SecretKey: "{{ gitlab_runner_cache_secret_key }}"
          BucketName: "{{ gitlab_runner_cache_bucket_name }}"
          BucketLocation: us-east-1
      docker:
        helper_image: "registry.gitlab.com/gitlab-org/gitlab-runner/gitlab-runner-helper:alpine-edge-arm64-v18.8.0"
        tls_verify: false
        image: quay.io/fedora/fedora:latest
        privileged: false
        disable_entrypoint_overwrite: false
        oom_kill_disable: false
        disable_cache: true
        shm_size: 0
        cap_add:
          - SYS_PTRACE
          - SYS_CHROOT
