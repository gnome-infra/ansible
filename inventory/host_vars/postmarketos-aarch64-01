gitlab_runner_token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36633936323139626264393862386135366232356333313037666232346365613539316535623261
          3934653466396663366139646233636430366365663238330a666263636162656564626237303462
          36616661353132383737306631386635633131613637366163383038343566346336653532643466
          6566386665336131620a636366306561626164666236633862313239363636383139343463613162
          37346631316132306336646464343336306264323135393830613934363632646338383365656263
          61343136356338623961333162616432336235333939373439396636613766643062336664626632
          383635373630643533313934366163383461

gitlab_runner_config:
  concurrent: 1
  check_interval: 0
  shutdown_timeout: 0
  session_server:
    session_timeout: 1800
  runners:
    - name: s3QutR2p
      url: https://gitlab.gnome.org
      id: 964
      token: "{{ gitlab_runner_token }}"
      executor: docker
      environment:
        - "FF_USE_GIT_NATIVE_CLONE=true"
      cache:
        MaxUploadedArchiveSize: 0
        s3:
          ServerAddress: "{{ gitlab_runner_cache_server_address }}"
          AccessKey: "{{ gitlab_runner_cache_access_key }}"
          SecretKey: "{{ gitlab_runner_cache_secret_key }}"
          BucketName: "{{ gitlab_runner_cache_bucket_name }}"
          BucketLocation: us-east-1
      docker:
        helper_image: "registry.gitlab.com/gitlab-org/gitlab-runner/gitlab-runner-helper:alpine-edge-arm64-v18.8.0"
        tls_verify: false
        image: quay.io/fedora/fedora:latest
        privileged: false
        disable_entrypoint_overwrite: false
        oom_kill_disable: false
        disable_cache: true
        shm_size: 0
        cap_add:
          - SYS_PTRACE
          - SYS_CHROOT
        tmpfs:
          "/tmp": "rw,nosuid,nodev,exec,mode=1777"
